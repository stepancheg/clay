import win32.*;
import io.errors.*;

moveFileImpl(fromPath: CStringRef, toPath: CStringRef) {
    var ok = MoveFileA(fromPath.ptr, toPath.ptr);
    if (ok == 0)
        throw GenericIOError(GetLastError(), "MoveFileA");
}

deleteFileImpl(path: CStringRef) {
    var ok = DeleteFileA(path.ptr);
    if (ok == 0)
        throw GenericIOError(GetLastError(), "DeleteFileA");
}

readLinkImpl(path: CStringRef) {
    throw UnsupportedOperationIOError("readLink");
}
